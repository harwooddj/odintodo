(()=>{"use strict";class t{constructor(t){this.type="project",this.title=t}}class e{constructor(t,e,o,d){this.type="todo",this.title=t,this.description=e,this.project=o,this.due=d}}class o{projects=[]}const d=document.getElementById("todo-plus"),n=document.getElementById("project-plus"),c=document.getElementById("form-add-todo"),l=document.getElementById("form-add-project"),s=document.querySelector(".form-add-todo-container"),i=document.querySelector(".form-add-project-container"),r=document.querySelector(".todo-list"),a=document.querySelector(".project-list"),p=(document.querySelector(".container"),document.getElementById("form-todo-but-tick")),u=document.getElementById("form-project-but-tick"),m=new o,g=new class{todos=[]};function y(t){t.style.display="block"}function h(t){t.style.display="none"}function j(){a.innerHTML="",m.projects.length&&(m.projects.sort(((t,e)=>t.title>e.title?1:t.title<e.title?-1:0)),m.projects.forEach((t=>{let e=document.createElement("div"),o=document.createElement("h1");e.textContent=t.title,e.id="project_"+m.projects.indexOf(t),e.classList.add("project"),e.id="del-project",o.classList.add("material-icons"),o.textContent="delete_outlined",o.classList.add("del"),e.appendChild(o),a.appendChild(e)})))}function f(){r.innerHTML="",g.todos.length&&g.todos.forEach((t=>{let e=document.createElement("div"),o=document.createElement("p"),d=document.createElement("p"),n=document.createElement("h1");e.id="todo_"+g.todos.indexOf(t),e.classList.add("project"),o.textContent=t.title,d.textContent=t.due,n.classList.add("material-icons"),n.id="del-todo",n.textContent="delete_outlined",n.classList.add("del"),e.appendChild(o),e.appendChild(d),e.appendChild(n),r.appendChild(e)}))}function E(){localStorage.clear();let t=m.projects.concat(g.todos);t.length&&t.forEach((e=>{localStorage.setItem(t.indexOf(e),JSON.stringify(e))}))}!function(){o.projects=[],g.todos=[];let d=Object.keys(localStorage);d.length&&d.forEach((o=>{let d=JSON.parse(localStorage.getItem(o));if("project"==d.type){let e=new t(d.title);m.projects.push(e)}else if("todo"==d.type){let t=new e(d.title,d.description,d.project,d.due);g.todos.push(t)}}),this)}(),j(),f(),document.addEventListener("click",(o=>{var r;"none"!=c.style.display&&(c.contains(o.target)?o.target==p&&(function(t,o,d,n){let c=new e(t,o,d,n);g.todos.push(c),E(),f()}(document.getElementById("todo-title").value,document.getElementById("todo-description").value,document.getElementById("select").value,document.getElementById("due-date").value),h(s)):h(s)),o.target==d&&y(s),"none"!=l.style.display&&(l.contains(o.target)?o.target==u&&(function(e){let o=new t(e);m.projects.push(o),E(),j()}(document.getElementById("project-title").value),h(i)):h(i)),o.target==n&&y(i),"del-project"==o.target.id&&(r=o.target.parentElement.id.slice(8),m.projects.splice(r,1),E(),j()),"del-todo"==o.target.id&&(o.target.parentElement.id.slice(6),E(),f())}))})();